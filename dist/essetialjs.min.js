!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((n="undefined"!=typeof globalThis?globalThis:n||self).ESS={})}(this,(function(n){"use strict";var t=Object.prototype.toString;function r(n){return null==n?void 0===n?"[object Undefined]":"[object Null]":t.call(n)}function e(n){return"string"==typeof n||"[object String]"===r(n)}function u(n){return Array.isArray(n)}var o=/^\[|\]$/g,i=/\.\[|\]\.|\[|\]/g,f=/[^\.]+(\.{2,}[^\.]+)*|[^\.]+/g;function c(n){return u(n)?n:e(n)?n.replace(o,"").replace(i,".").match(f)||[""]:[n]}function a(n){return"[object Date]"===r(n)}function l(n){return"function"==typeof n}function s(n){return"[object Map]"===r(n)}function p(n){return"[object Object]"===r(n)&&n.constructor===Object}function h(n){return"[object Set]"===r(n)}function d(n){return void 0===n}function b(n){return"[object WeakMap]"===r(n)}function g(n){return"[object WeakSet]"===r(n)}function y(n){return"[object RegExp]"===r(n)}function v(n,t,r){if(null!=n){for(var e=(t=c(t)).length,u=0;null!=n&&u<e;)n=n[t[u++]];return u!==e||d(n)?r:n}}function j(n,t){return Math.floor(Math.random()*(t-n+1)+n)}function m(n,t){var r;if(void 0===t&&(t=1),t<=0)return[];if(t>n.length)return n;for(var e=[],u=n.slice(0),o=0;o<t;o++){var i=j(0,u.length-1);e.push(u[i]),i!==u.length-1&&(r=[u[u.length-1],u[i]],u[i]=r[0],u[u.length-1]=r[1]),u.length--}return e}function S(n,t){return n===t?0:n<t?-1:1}function A(n,t){return 0===S(n,t)}function w(n,t){return S(n,t)<0}function M(n,t){return S(n,t)>0}n.cartesianProduct=function(n){for(var t=[],r=n.length,e=new Array(r).fill(0);;){for(var u=new Array(r),o=0;o<r;o++)u[o]=n[o][e[o]];t.push(u);for(var i=r-1;i>=0&&e[i]===n[i].length-1;)e[i]=0,i--;if(i<0)break;e[i]++}return t},n.chunk=function(n,t){var r=u(n)?n.length:0;if(!r||t<1)return[n];for(var e=0,o=0,i=new Array(Math.ceil(r/t));e<r;)i[o++]=n.slice(e,e+=t);return i},n.deepClone=function n(t){if(null==t||b(t)||g(t)||"object"!=typeof t)return t;if(u(t)||p(t)){var r=u(t)?[]:{};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(r[e]=n(t[e]));return r}return a(t)?new Date(t):y(t)?new RegExp(t):s(t)?new Map(Array.from(t,(function(t){return[t[0],n(t[1])]}))):h(t)?new Set(Array.from(t,(function(t){return n(t)}))):t},n.defaultCompareFunction=S,n.equal=A,n.flatten=function(n,t){void 0===t&&(t=1/0);for(var r=[],e=n.map((function(n){return{data:n,d:0}})),o=function(){var n=e.pop(),o=n.data,i=n.d;u(o)&&i<t?e.push.apply(e,o.map((function(n){return{data:n,d:i+1}}))):r.push(o)};e.length;)o();return r.reverse()},n.getValueByPath=v,n.greaterThan=M,n.greaterThanOrEqual=function(n,t){return M(n,t)||A(n,t)},n.isArray=u,n.isBoolean=function(n){return"boolean"==typeof n||"[object Boolean]"===r(n)},n.isDate=a,n.isFunction=l,n.isMap=s,n.isNull=function(n){return null===n},n.isNumber=function(n){return"number"==typeof n||"[object Number]"===r(n)},n.isObject=p,n.isRegExp=y,n.isSet=h,n.isString=e,n.isSymbol=function(n){return"symbol"==typeof n||"[object Symbol]"===r(n)},n.isUndefined=d,n.isWeakMap=b,n.isWeakSet=g,n.lessThan=w,n.lessThanOrEqual=function(n,t){return w(n,t)||A(n,t)},n.random=j,n.randomInArray=m,n.shuffle=function(n){return m(n,n.length)},n.sortByAsc=function(n,t){if(void 0===t&&(t=function(n){return n}),!u(n)||n.length<=1)return n;if(!l(t)){var r=c(t);t=function(n){return v(n,r)}}return[].concat(n).sort((function(n,r){var e=t(n),u=t(r);return null==e?1:null==u||e<u?-1:e>u?1:0}))},n.sortByDesc=function(n,t){if(void 0===t&&(t=function(n){return n}),!u(n)||n.length<=1)return n;if(!l(t)){var r=c(t);t=function(n){return v(n,r)}}return[].concat(n).sort((function(n,r){var e=t(n),u=t(r);return null==e?1:null==u?-1:e<u?1:e>u?-1:0}))},n.unique=function(n,t){for(var r=[],e=new Set,u=0,o=n;u<o.length;u++){var i=o[u];e.has(i)||(r.push(i),e.add(i))}return r}}));
