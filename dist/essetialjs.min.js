!function(n,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports):"function"==typeof define&&define.amd?define(["exports"],r):r((n="undefined"!=typeof globalThis?globalThis:n||self).ESS={})}(this,(function(n){"use strict";var r=Object.prototype.toString;function t(n){return null==n?void 0===n?"[object Undefined]":"[object Null]":r.call(n)}function e(n){return"string"==typeof n||"[object String]"===t(n)}function o(n){return Array.isArray(n)}var u=/^\[|\]$/g,i=/\.\[|\]\.|\[|\]/g,c=/[^\.]+(\.{2,}[^\.]+)*|[^\.]+/g;function f(n){return o(n)?n:e(n)?n.replace(u,"").replace(i,".").match(c)||[""]:[n]}function a(n){return"[object Date]"===t(n)}function l(n){return"function"==typeof n}function s(n){return"[object Map]"===t(n)}function p(n){return"[object Object]"===t(n)&&n.constructor===Object}function h(n){return"[object Set]"===t(n)}function y(n){return void 0===n}function b(n){return"[object WeakMap]"===t(n)}function g(n){return"[object WeakSet]"===t(n)}function d(n){return"[object RegExp]"===t(n)}function j(n,r,t){if(null!=n){for(var e=(r=f(r)).length,o=0;null!=n&&o<e;)n=n[r[o++]];return o!==e||y(n)?t:n}}function v(n,r){return n===r?0:n<r?-1:1}function m(n,r){return 0===v(n,r)}function w(n,r){return v(n,r)<0}function S(n,r){return v(n,r)>0}function A(n,r){return Math.floor(Math.random()*(r-n+1)+n)}n.cartesianProduct=function(n){if(!o(n))throw new TypeError("Expected an array");if(n.some((function(n){return!o(n)})))throw new TypeError("Each item in the array should be an array");for(var r=[],t=n.length,e=new Array(t).fill(0);;){for(var u=new Array(t),i=0;i<t;i++)u[i]=n[i][e[i]];r.push(u);for(var c=t-1;c>=0&&e[c]===n[c].length-1;)e[c]=0,c--;if(c<0)break;e[c]++}return r},n.chunk=function(n,r){var t=o(n)?n.length:0;if(!t||r<1)return[n];for(var e=0,u=0,i=new Array(Math.ceil(t/r));e<t;)i[u++]=n.slice(e,e+=r);return i},n.deepClone=function n(r){if(null==r||b(r)||g(r)||"object"!=typeof r)return r;if(o(r)||p(r)){var t=o(r)?[]:{};for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(t[e]=n(r[e]));return t}return a(r)?new Date(r):d(r)?new RegExp(r):s(r)?new Map(Array.from(r,(function(r){return[r[0],n(r[1])]}))):h(r)?new Set(Array.from(r,(function(r){return n(r)}))):r},n.defaultCompareFunction=v,n.equal=m,n.getValueByPath=j,n.greaterThan=S,n.greaterThanOrEqual=function(n,r){return S(n,r)||m(n,r)},n.isArray=o,n.isBoolean=function(n){return"boolean"==typeof n||"[object Boolean]"===t(n)},n.isDate=a,n.isFunction=l,n.isMap=s,n.isNull=function(n){return null===n},n.isNumber=function(n){return"number"==typeof n||"[object Number]"===t(n)},n.isObject=p,n.isRegExp=d,n.isSet=h,n.isString=e,n.isSymbol=function(n){return"symbol"==typeof n||"[object Symbol]"===t(n)},n.isUndefined=y,n.isWeakMap=b,n.isWeakSet=g,n.lessThan=w,n.lessThanOrEqual=function(n,r){return w(n,r)||m(n,r)},n.random=A,n.randomInArray=function(n,r){var t;if(void 0===r&&(r=1),r<=0)return[];if(r>n.length)return n;for(var e=[],o=n.slice(0),u=0;u<r;u++){var i=A(0,o.length-1);e.push(o[i]),i!==o.length-1&&(t=[o[o.length-1],o[i]],o[i]=t[0],o[o.length-1]=t[1]),o.length--}return e},n.sortByAsc=function(n,r){if(!o(n)||n.length<=1)return n;if(!l(r)){var t=f(r);r=function(n){return j(n,t)}}return[].concat(n).sort((function(n,t){var e=r(n),o=r(t);return null==e?1:null==o||e<o?-1:e>o?1:0}))},n.sortByDesc=function(n,r){if(!o(n)||n.length<=1)return n;if(!l(r)){var t=f(r);r=function(n){return j(n,t)}}return[].concat(n).sort((function(n,t){var e=r(n),o=r(t);return null==e?1:null==o?-1:e<o?1:e>o?-1:0}))}}));
