!function(n,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports):"function"==typeof define&&define.amd?define(["exports"],r):r((n="undefined"!=typeof globalThis?globalThis:n||self).ESS={})}(this,(function(n){"use strict";var r=Object.prototype.toString;function t(n){return null==n?void 0===n?"[object Undefined]":"[object Null]":r.call(n)}function e(n){return"string"==typeof n||"[object String]"===t(n)}function u(n){return Array.isArray(n)}var o=/^\[|\]$/g,i=/\.\[|\]\.|\[|\]/g,f=/[^\.]+(\.{2,}[^\.]+)*|[^\.]+/g;function c(n){return u(n)?n:e(n)?n.replace(o,"").replace(i,".").match(f)||[""]:[n]}function a(n){return"function"==typeof n}function l(n){return void 0===n}function s(n,r,t){if(null!=n){for(var e=(r=c(r)).length,u=0;null!=n&&u<e;)n=n[r[u++]];return u!==e||l(n)?t:n}}function p(n){if(!a(n)){var r=c(n);return function(n){return s(n,r)}}return n}function d(n){return"[object Date]"===t(n)}function v(n){return"[object Map]"===t(n)}function g(n){return"[object Set]"===t(n)}function h(n){return"[object WeakMap]"===t(n)}function b(n){return"[object WeakSet]"===t(n)}function y(n){return"[object RegExp]"===t(n)}function j(n){return"[object Object]"===t(n)&&n.constructor===Object}function m(n,r){return Math.floor(Math.random()*(r-n+1)+n)}function A(n,r){var t;if(void 0===r&&(r=1),r<=0)return[];if(r>n.length)return n;for(var e=[],u=n.slice(0),o=0;o<r;o++){var i=m(0,u.length-1);e.push(u[i]),i!==u.length-1&&(t=[u[u.length-1],u[i]],u[i]=t[0],u[u.length-1]=t[1]),u.length--}return e}function S(n,r){return n===r?0:n<r?-1:1}function x(n,r){return 0===S(n,r)}function w(n,r){return S(n,r)<0}function k(n,r){return S(n,r)>0}n.cartesianProduct=function(n){for(var r=[],t=n.length,e=new Array(t).fill(0);;){for(var u=new Array(t),o=0;o<t;o++)u[o]=n[o][e[o]];r.push(u);for(var i=t-1;i>=0&&e[i]===n[i].length-1;)e[i]=0,i--;if(i<0)break;e[i]++}return r},n.chunk=function(n,r){var t=u(n)?n.length:0;if(!t||r<1)return[n];for(var e=0,o=0,i=new Array(Math.ceil(t/r));e<t;)i[o++]=n.slice(e,e+=r);return i},n.deepClone=function n(r){if(null==r||h(r)||b(r)||"object"!=typeof r)return r;if(u(r)||j(r)){var t=u(r)?[]:{};for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(t[e]=n(r[e]));return t}return d(r)?new Date(r):y(r)?new RegExp(r):v(r)?new Map(Array.from(r,(function(r){return[r[0],n(r[1])]}))):g(r)?new Set(Array.from(r,(function(r){return n(r)}))):r},n.defaultCompareFunction=S,n.equal=x,n.executeAfter=function(n,r){return void 0===r&&(r=0),function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(--r<1)return n.apply(this,t)}},n.findIndex=function(n,r){for(var t=-1,e=0;e<n.length;){if(r(n[e])){t=e;break}e++}return t},n.findLastIndex=function(n,r){for(var t=-1,e=n.length-1;e>=0;){if(r(n[e])){t=e;break}e--}return t},n.flatten=function(n,r){void 0===r&&(r=1/0);for(var t=[],e=n.map((function(n){return{data:n,d:0}})),o=function(){var n=e.pop(),o=n.data,i=n.d;u(o)&&i<r?e.push.apply(e,o.map((function(n){return{data:n,d:i+1}}))):t.push(o)};e.length;)o();return t.reverse()},n.getValueByPath=s,n.greaterThan=k,n.greaterThanOrEqual=function(n,r){return k(n,r)||x(n,r)},n.head=function(n){return u(n)?n[0]:void 0},n.isArray=u,n.isBoolean=function(n){return"boolean"==typeof n||"[object Boolean]"===t(n)},n.isDate=d,n.isFunction=a,n.isJson=j,n.isMap=v,n.isNull=function(n){return null===n},n.isNumber=function(n){return"number"==typeof n||"[object Number]"===t(n)},n.isObject=function(n){var r=typeof n;return null!=n&&("object"===r||"function"===r)},n.isRegExp=y,n.isSet=g,n.isString=e,n.isSymbol=function(n){return"symbol"==typeof n||"[object Symbol]"===t(n)},n.isUndefined=l,n.isWeakMap=h,n.isWeakSet=b,n.lessThan=w,n.lessThanOrEqual=function(n,r){return w(n,r)||x(n,r)},n.random=m,n.randomInArray=A,n.shuffle=function(n){return A(n,n.length)},n.sortByAsc=function(n,r){if(void 0===r&&(r=function(n){return n}),!u(n)||n.length<=1)return n;var t=p(r);return[].concat(n).sort((function(n,r){var e=t(n),u=t(r);return null==e?1:null==u||e<u?-1:e>u?1:0}))},n.sortByDesc=function(n,r){if(void 0===r&&(r=function(n){return n}),!u(n)||n.length<=1)return n;var t=p(r);return[].concat(n).sort((function(n,r){var e=t(n),u=t(r);return null==e?1:null==u?-1:e<u?1:e>u?-1:0}))},n.tail=function(n){return u(n)?n[n.length-1]:void 0},n.trim=function(n,r){return void 0===r&&(r=""),""===r||void 0===r?n.replace(/^\s+|\s+$/g,""):y(r)?n.replace(r,""):n.replace(new RegExp("^".concat(r,"+|").concat(r,"+$"),"g"),"")},n.trimAll=function(n,r){if(void 0===r&&(r=""),""===r||void 0===r)return n.replace(/\s+/g,"");if(y(r))return n.replace(r,"");var t=new RegExp(r,"g");return n.replace(t,"")},n.unique=function(n,r){if(void 0===r&&(r=function(n){return n}),!u(n)||n.length<=1)return n;var t={},e=p(r);return n.filter((function(n){var r=e(n);return!t[r]&&(t[r]=!0,!0)}))}}));
